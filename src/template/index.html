<!doctype html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Groupie Tracker</title>
        <link rel="stylesheet" href="/CSS/style.css">
        <link rel="stylesheet" href="/CSS/index.css">
    </head>
    <body>
        {{template "header" .}}
        <form action="/" method="POST" class="search-form">
            <input
                type="text"
                class="barre-recherche"
                name="recherche"
                placeholder="Recherche ..."
            />
            <button type="submit" class="btn-barre-recherche"><img class="logo-barre-recherche" src="../images/loupe-1.png" alt="logo-loupe"></button>
        </form>

        <nav class="filter-bar">
            <div class="sort-section">
                <span class="sort-label">Trier par :</span>
                <a href="?sort=ville" class="sort-button">Ville</a>
                <a href="?sort=genre" class="sort-button">Genre</a>
                <a href="?sort=date" class="sort-button">Date</a>
                <a href="?sort=prix" class="sort-button">Prix</a>
            </div>

            <div class="filter-dropdown">
                <button class="filter-button">Ville</button>
                <div class="filter-content">
                    <label>
                        <input type="checkbox" name="city" value="Paris" checked> Paris
                    </label>
                    <label>
                        <input type="checkbox" name="city" value="Lille"> Lille
                    </label>
                    <label>
                        <input type="checkbox" name="city" value="Marseille"> Marseille
                    </label>
                    <label>
                        <input type="checkbox" name="city" value="Bordeaux"> Bordeaux
                    </label>
                    <label>
                        <input type="checkbox" name="city" value="Lyon"> Lyon
                    </label>
                    <label>
                        <input type="checkbox" name="city" value="Amiens"> Amiens
                    </label>
                </div>
            </div>
        </nav>

        <main>
            <h1>Tous les concerts</h1>
            
            <div class="concerts-grid"> 
            {{ if .Artists }}
                {{ range .Artists }}
                    {{ $artistName := .Name }}
                    {{ $artistImage := .Image }}

                    {{ if .Rel }}
                        {{ range $location, $dates := .Rel }}
                            {{ range $date := $dates }}
                                
                                {{ $price := "175$" }} 
                                
                                <div class="concert-card">
                                    <div class="card-background" style="background-image: url('{{ $artistImage }}');"></div>
                                    
                                    <div class="card-content">
                                        <h2 class="artist-name">{{ $artistName }}</h2>

                                        <div class="concert-date">
                                            <span style="font-size: 1.2em;">üìÖ</span>
                                            {{ $date }}
                                        </div>
                                        <div class="concert-location">
                                            <span style="font-size: 1.2em;">üìç</span>
                                            {{ $location }}
                                        </div>

                                        <div class="concert-details-bottom">
                                            <div class="concert-price">
                                                <span class="price-tag">{{ $price }}</span>
                                            </div>
                                            <div class="buy-icon">
                                                üõçÔ∏è
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            {{ end }}
                        {{ end }}
                    {{ end }}
                {{ end }}
            {{ else }}
                <p>Aucun artiste / concert √† afficher.</p>
            {{ end }}
            </div> </main>
        {{template "footer" .}}
    </body>
</html>
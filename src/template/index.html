<!doctype html>
<html lang="fr">
    <head>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Groupie Tracker</title>
        <link rel="stylesheet" href="/CSS/style.css">
        <link rel="stylesheet" href="/CSS/index.css">
    </head>
    <body>
        <div class="hero">
            {{template "header" .}}
            <form action="#groupe" method="POST" class="search-form">
                <input
                    type="text"
                    class="barre-recherche"
                    name="recherche"
                    placeholder="Recherche ..."
                />
                <button type="submit" class="btn-barre-recherche"><img class="logo-barre-recherche" src="/images/loupe-1.png" alt="logo-loupe"></button>
            </form>
            <img src="/images/vinyl-beatfind.png" alt="img vinyle" class="vinyle" id="vinyl" style="animation-play-state: paused;">
            <div class="pillule">
                <div class="play" id="btn-play" style="cursor: pointer;">
                    <img src="/images/bouton-play.png" alt="play-bonton"/>
                </div>
                 <div class="pause" id="btn-pause" style="cursor: pointer;">
                    <img src="/images/bouton-pause.png" alt="pause-bonton"/>
                </div>
            </div>
            <audio id="bg-music" src="/musique/musique.mp3" loop></audio>
        </div>
        <div class="theodora">
            <img src="/images/background-textur.png" alt="texture-background" class="texture-background-theodora">
            <img src="/images/Theodora.png" alt="imageTheodora" class="theodora-img">
            <div class="box-info-theodora">
                <div class="top-info-theodora">
                    <h2 class="title-theodora">Theodora</h2>
                    <div class="droite-theodora">
                        <p>14/06/2025</p>
                        <img src="/images/etoile.png" alt="étoile">
                        <p>Paris</p>
                        <img src="/images/maison.png" alt="maison">
                    </div>
                </div>
                <p class="text-theodora">Assistez au concert de Theodora le 14 juin 2025 au Trianon de Paris, et laissez-vous porter par l'univers envoûtant de cette artiste montante de la scène française.</p>
            </div> 
        </div>
        <div class="Florent">
            <img src="/images/background-textur-2.jpg" alt="texture-background-2" class="texture-background-florent">
            <img src="/images/Florent-pagny.png" alt="imageFlorent" class="florent-img">
            <div class="box-info-florent">
                <div class="top-info-florent">
                    <h2 class="title-florent">Florent Pagny</h2>
                    <div class="droite-florent">
                        <p>15/04/2026</p>
                        <img src="/images/etoile.png" alt="étoile">
                        <p>Amiens</p>
                        <img src="/images/maison.png" alt="maison">
                    </div>
                </div>
                <p class="text-florent">Assistez au concert de Florent Pagny le 15 avril 2026 au zénith d'Amiens, et laissez-vous porter par l'univers envoûtant de cet artiste d'époque de la scène française.</p>
            </div> 
        </div>
        

        <main>
            <div class="background-tickets">
                <img src="/images/background-ticket-1.png" class="bg-ticket ticket-1" alt="">
                <img src="/images/background-ticket-2.png" class="bg-ticket ticket-2" alt="">
                <img src="/images/background-ticket-1.png" class="bg-ticket ticket-3" alt="">
                <img src="/images/background-ticket-2.png" class="bg-ticket ticket-4" alt="">
                <img src="/images/background-ticket-1.png" class="bg-ticket ticket-5" alt="">
                <img src="/images/background-ticket-2.png" class="bg-ticket ticket-6" alt="">
            </div>
            <div id = "groupe" class="Card-artistes-container">
                {{range .Artists}}
                    <div class="Card-artiste">
                        <a href="http://localhost:8080/index2?id={{.ID}}">
                            <div class="Card-artiste-content">
                                <img src="{{.Image}}" alt="Image de {{.Name}}" class="Artiste-image"/>
                                <h1 class="Artiste-nom">{{.Name}}</h1>
                                <h1 class="Date-creation">{{.CreationDate}}</h1>
                            </div>
                            <h1 class="en-savoir-plus">EN SAVOIR PLUS</h1>
                        </a>
                    </div>
                {{end}}
            </div>
            </main>
        {{template "footer" .}}


        <script>
            // Script pour gérer l'affichage de l'image de fond si une seule carte est présente
            document.addEventListener("DOMContentLoaded", () => {
                const cards = document.querySelectorAll('.Card-artiste');
                const bgContainer = document.querySelector('.background-tickets');
                if (cards.length === 1 && bgContainer) {
                    bgContainer.classList.add('single-card-view');
                }
            });
        </script>
        
        <script>
            const music = document.getElementById('bg-music');
            const vinyl = document.getElementById('vinyl');
            const btnPlay = document.getElementById('btn-play');
            const btnPause = document.getElementById('btn-pause');

            if (btnPlay && btnPause && music && vinyl) {
                btnPlay.addEventListener('click', () => {
                    music.play();
                    vinyl.style.animation = 'rotation 5s linear infinite';
                    vinyl.style.animationPlayState = 'running';
                });

                btnPause.addEventListener('click', () => {
                    music.pause();
                    vinyl.style.animation = 'none';
                });
            }
        </script>
    </body>
</html>

        
